
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}
model Student {
  id                    Int      @id @default(autoincrement())
  first_name            String
  last_name             String
  email                 String   @unique
  phone_number          String?
  dob                   DateTime?
  gender                String?
  country               String?
  city                  String?
  bio                   String?
  profile_image         String?
  future_goal           String?
  password              String
  account_status        String   @default("active")
  email_verified        Boolean  @default(false)
  last_login            DateTime?
  password_last_change  DateTime?
  created_at            DateTime @default(now())
  updated_at            DateTime @updatedAt

  @@map("Student_Table")
}
<<<<<<< HEAD
model Instructor {
  instructor_id      Int      @id @default(autoincrement())
  first_name         String
  last_name          String
  email              String   @unique
  password           String
  phone_number       String?
  gender             String?
  dob                DateTime?
  bio                String?
  profile_image      String?
  city               String?
  country            String?
  account_type       String?
  account_status     String   @default("active")
  qualification      String?
  expertise_area     String?
  year_of_experience Int?
  email_verified     Boolean  @default(false)
  last_login         DateTime?
  password_last_change DateTime?
  created_at         DateTime @default(now())
  updated_at         DateTime @updatedAt

  @@map("Instructor_Table")
}

model Admin {
  admin_id             Int      @id @default(autoincrement())
  first_name           String
  last_name            String
  email                String   @unique
  password             String
  phone_number         String?
  profile_image        String?
  account_status       String   @default("active")
  email_verified       Boolean  @default(false)
  last_login           DateTime?
  password_last_change DateTime?
  created_at           DateTime @default(now())
  updated_at           DateTime @updatedAt

   @@map("Admin_Table")
}
model Course {
  course_id         Int      @id @default(autoincrement())
  course_title      String
  course_description String?
  course_thumbnail  String?
  course_level      String?
  course_language   String?

  meta_title        String?
  meta_description  String?
  meta_keywords     String?

  estimated_comp_time Int?
  course_duration   Int?      // minutes ya hours (aapke system ke hisaab se)
  
  total_modules     Int       @default(0)
  total_lectures    Int       @default(0)
  total_videos      Int       @default(0)
  total_resources   Int       @default(0)

  course_status     String    @default("draft")
  published_at      DateTime?
  
  created_at        DateTime  @default(now())
  updated_at        DateTime  @updatedAt

  @@map("Course_Table")
}

model Invoice {
  invoice_id              Int      @id @default(autoincrement())

  // Basic Info
  invoice_type            String?
  invoice_status          String?
  invoice_method          String?
  invoice_gateway         String?
  transaction_id          String?
  gateway_transaction_id  String?

  // Amounts & Finance
  invoice_amount          Float
  tax_amount              Float?   @default(0)
  total_amount            Float
  discount_applied        Float?   @default(0)
  discount_code           String?
  platform_commission     Float?   @default(0)
  instructor_share        Float?   @default(0)

  currency_type           String?
  billing_cycle           String?
  next_billing_date       DateTime?

  // Card / Payment Info
  card_type               String?
  card_last_four_digit    String?
  device_info             String?
  ip_address              String?

  // Status & Flags
  is_successful           Boolean  @default(false)
  failure_reason          String?
  deleted_at              DateTime?

  // Receipt
  receipt_sent            Boolean  @default(false)
  receipt_sent_email      String?
  receipt_sent_date       DateTime?
  receipt_url             String?

  // Instructor Payout
  instructor_payout_status String?
  instructor_payout_date   DateTime?

  // Dates
  invoice_date            DateTime @default(now())
  invoice_completed_at    DateTime?
  created_at              DateTime @default(now())
  updated_at              DateTime @updatedAt

   @@map("Invoice_Table")
}

model Resume {
  resume_id        Int      @id @default(autoincrement())
  resume_title     String
  resume_template  String?

  // File Info
  resume_file_path String?
  file_url         String?
  resume_format    String?
  file_size        Int?
  total_pages      Int?

  // Styling Options
  template_style   String?
  font_style       String?
  color_schema     String?
  layout_style     String?

  // Generation Info
  generation_status String?
  generation_date   DateTime?
  resume_version    Int?     @default(1)
  resume_score      Float?

  // Status
  resume_status    String   @default("active")
  deleted_at       DateTime?

  // Timestamps
  created_at       DateTime @default(now())
  updated_at       DateTime @updatedAt

  @@map("Resume_Table")
}

model Company {
  company_id            Int      @id @default(autoincrement())
  company_name          String
  company_email         String   @unique
  company_password      String
  phone_number          String?
  company_logo          String?
  company_website       String?
  company_description   String?
  company_location      String?
  city                  String?
  country               String?

  // Business Info
  company_type          String?
  industry_type         String?
  company_size          String?
  vision_statement      String?

  // Account & Registration
  account_type          String?
  account_status        String   @default("active")
  reg_number            String?
  reg_date              DateTime?
  invitation_limit      Int?     @default(0)
  pending_invitation    Int?     @default(0)

  // Stats
  total_invited         Int      @default(0)
  active_student        Int      @default(0)
  completed_student     Int      @default(0)
  active_course         Int      @default(0)
  completed_course      Int      @default(0)
  total_course_requested Int     @default(0)

  // Subscription
  subscription_plan     String?
  subscription_status   String?
  subscription_start_at DateTime?
  subscription_end_at   DateTime?

  // Security & Tracking
  last_login            DateTime?
  password_last_change  DateTime?

  // Timestamps
  created_at            DateTime @default(now())
  updated_at            DateTime @updatedAt

  @@map("Company_Table")
}
model Roadmap {
  roadmap_id           Int      @id @default(autoincrement())
  roadmap_title        String
  roadmap_description  String?

  // Progress & Status
  roadmap_status       String?   // e.g. active, paused, completed
  course_in_progress   Int?      @default(0)
  course_completed     Int?      @default(0)
  completion_per       Float?    @default(0)

  // Courses Info
  total_course         Int?      @default(0)
  mandatory_course     Int?      @default(0)
  optional_course      Int?      @default(0)
  prequisite_course    Int?      @default(0)
  course_sequence      String?
  difficulty_level     String?
  estimated_duration   Int?      // hours or days
  total_section        Int?      @default(0)
  total_learning_hour  Int?      @default(0)

  // Dates & Tracking
  start_at             DateTime?
  expected_comp_date   DateTime?
  generation_date      DateTime?
  last_activity_date   DateTime?
  last_ai_adjustment_date DateTime?

  // Soft Delete & Timestamps
  deleted_at           DateTime?
  created_at           DateTime  @default(now())
  updated_at           DateTime  @updatedAt

  @@map("Roadmap_Table")
}

model CourseCategory {
  category_id            Int      @id @default(autoincrement())
  category_name          String
  category_description   String?

  // Hierarchy
  is_parent_category     Boolean  @default(false)
  is_sub_category        Boolean  @default(false)
  has_sub_category       Boolean  @default(false)
  category_level         Int?      @default(0)
  category_path          String?
  sub_category_name      String?
  sub_category_description String?
  sub_category_count     Int?      @default(0)

  // Course Types
  beginner_course        Int?      @default(0)
  intermediate_course    Int?      @default(0)
  advance_course         Int?      @default(0)

  // UI & Display
  category_icon          String?
  category_thumbnail     String?
  category_color         String?

  // SEO
  meta_title             String?
  meta_description       String?
  meta_keywords          String?
  tags                   String?

  // Stats & Tracking
  last_course_add        DateTime?
  correct_answer         Int?      @default(0)

  // Status & Dates
  published_at           DateTime?
  created_at             DateTime @default(now())
  updated_at             DateTime @updatedAt

  @@map("CourseCategory_Table")
}








   
